@model GrapheneTrace_GP.Areas.Admin.ViewModels.AdminProfileVM
@{
    Layout = "~/Areas/Admin/Views/Shared/_DashboardLayout.cshtml";
}

<div class="container mt-4">

    <h3 class="fw-bold mb-4">Admin Profile > @Model.FullName</h3>

    <div class="row g-4">

        <!-- LEFT SIDE -->
        <div class="col-md-4">

            <!-- Profile Card -->
            <div class="card p-3">
                <div class="text-center">
                    <img src="@Model.ProfileImagePath"
                         class="rounded-circle mb-3"
                         style="width:120px; height:120px; object-fit:cover;">

                    <form method="post" enctype="multipart/form-data">
                        <input type="file" class="form-control mb-2" />
                        <button class="btn btn-outline-primary btn-sm w-100">Upload Photo</button>
                    </form>
                </div>

                <hr />

                <h5 class="fw-bold">@Model.FullName</h5>
                <p class="text-muted">Administrator</p>
                <p>@Model.Email</p>
                <p>@Model.Phone</p>

                <p><strong>Admin ID:</strong> @Model.AdminId</p>
            </div>

            <!-- Last Login Info -->
            <div class="card p-3 mt-3">
                <h5 class="fw-bold">Last Login Information</h5>
                <p><strong>Last Login:</strong> @Model.LastLogin</p>
                <p><strong>Password Changed:</strong> @Model.LastPasswordChange</p>
                <p><strong>Last Profile Update:</strong> @Model.LastProfileUpdate</p>
            </div>

            <!-- Security Summary -->
            <div class="card p-3 mt-3">
                <h5 class="fw-bold">Security Summary</h5>
                <p><strong>2FA Enabled:</strong> @Model.Is2FAEnabled</p>
                <p><strong>Password Strength:</strong> @Model.PasswordStrength</p>
                <p><strong>Active Sessions:</strong> @Model.ActiveSessions</p>
                <p><strong>Suspicious Activity:</strong> @Model.SuspiciousActivity</p>
            </div>

        </div>

        <!-- RIGHT SIDE -->
        <div class="col-md-8">

            <!-- Permissions & Roles -->
            <div class="card p-4">
                <h4 class="fw-bold mb-3">Permissions & Roles</h4>

                <div class="mb-3">
                    <label class="fw-bold">Role</label>
                    <select class="form-select" disabled>
                        <option>@Model.Role</option>
                    </select>
                </div>

                <h5 class="fw-bold mt-3">Permissions Matrix</h5>

                <table class="table table-bordered mt-2">
                    <thead class="table-light">
                        <tr>
                            <th>Permission</th>
                            <th>Allowed</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Edit Profiles</td><td>@(Model.EditProfiles ? "✔" : "✖")</td></tr>
                        <tr><td>Add Profiles</td><td>@(Model.AddProfiles ? "✔" : "✖")</td></tr>
                        <tr><td>View Alerts</td><td>@(Model.ViewAlerts ? "✔" : "✖")</td></tr>
                        <tr><td>Manage Settings</td><td>@(Model.ManageSettings ? "✔" : "✖")</td></tr>
                        <tr><td>View Reports</td><td>@(Model.ViewReports ? "✔" : "✖")</td></tr>
                        <tr><td>Message Clinician</td><td>@(Model.MessageClinician ? "✔" : "✖")</td></tr>
                        <tr><td>View Appointments</td><td>@(Model.ViewAppointments ? "✔" : "✖")</td></tr>
                    </tbody>
                </table>

            </div>

            <!-- Admin Actions -->
            <div class="card p-4 mt-4">
                <h4 class="fw-bold">Admin Actions</h4>

                <button class="btn btn-warning w-100 mt-2">Reset Password</button>
                <button class="btn btn-danger w-100 mt-2">Lock Account</button>
                <button class="btn btn-secondary w-100 mt-2">View Login History</button>
                <button class="btn btn-info w-100 mt-2">Download Activity Logs</button>
            </div>

        </div>

    </div>

</div>

