@model GrapheneTrace_GP.Areas.Admin.ViewModels.ClinicianDetailsVM

@{
    Layout = "~/Areas/Admin/Views/Shared/_DashboardLayout.cshtml";
}

<div class="container mt-4">
    <h3 class="mb-4">Clinician Data > Dr @Model.ClinicianLastName, @Model.ClinicianFirstName</h3>

    <div class="row g-4">

        <!-- LEFT PANEL – Main Info -->
        <div class="col-md-4">
            <div class="card shadow-sm p-3 h-100">
                <h4 class="text-primary">Dr. @Model.ClinicianFirstName @Model.ClinicianLastName</h4>
                <p class="text-muted">@Model.Email</p>

                <p class="mb-1">@((DateTime.Now.Year - Model.DateOfBirth.Year)) Yrs Old | @Model.Status</p>
                <p class="mb-3">ID @Model.ClinicianId</p>

                <span class="badge bg-success w-100 py-2">Active</span>
            </div>
        </div>

        <!-- MIDDLE PANEL – Personal Details -->
        <div class="col-md-5">
            <div class="card shadow-sm p-3 h-100">
                <div class="row mb-2">
                    <div class="col-6"><strong>Gender:</strong> @Model.Gender</div>
                    <div class="col-6"><strong>Date Of Birth:</strong> @Model.DateOfBirth.ToString("dd MMM yyyy")</div>
                </div>

                <div class="row mb-2">
                    <div class="col-6"><strong>City:</strong> @Model.City</div>
                    <div class="col-6"><strong>Phone No:</strong> @Model.Phone</div>
                </div>

                <div class="row mb-2">
                    <div class="col-6"><strong>Address:</strong> @Model.Address</div>
                    <div class="col-6"><strong>Postal Code:</strong> @Model.PostCode</div>
                </div>
            </div>
        </div>

        <!-- RIGHT PANEL – Alerts -->
        <div class="col-md-3">
            <div class="card shadow-sm p-3 h-100">
                <h5 class="fw-bold">Alerts</h5>
                <div style="max-height: 250px; overflow-y: auto; border: 1px solid #ddd; border-radius: 6px;">
                    <table class="table table-sm table-hover">
                        <thead class="table-light sticky-top">
                            <tr>
                                <th>S.No</th>
                                <th>Alert</th>
                                <th>Date/Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var a in Model.Alerts)
                            {
                                <tr>
                                    <td>@a.AlertId</td>
                                    <td>@a.AlertType</td>
                                    <td>@Html.Raw(a.AlertDateTime.ToString("dd/MM/yyyy<br/>HH:mm"))</td>
                                </tr>
                            }
                       

                            
                            else
                            {
                                <tr><td colspan="3" class="text-center text-muted">No alerts available.</td></tr>
                            }
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>


    <hr class="my-4" />
    
    
    <h3>Assigned Patients</h3>

    <div class="card shadow-sm p-3">
        <div style="max-height: 300px; overflow-y: auto; border: 1px solid #ddd; border-radius: 6px;">
            <table class="table table-striped table-hover">
                <thead class="table-primary sticky-top">
                    <tr>
                        <th>S.No</th>
                        <th>Patient Name</th>
                        <th>Patient ID</th>
                        <th>Age</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var p in Model.AssignedPatients)
                    {
                        <tr>
                            <td>@p.Sno</td>
                            <td>@p.PatientFirstName @p.PatientLastName</td>
                            <td>@p.PatientId</td>
                            <td>@p.Age</td>
                        </tr>
                    }

                    else
                    {
                    <tr>
                        <td colspan="4" class="text-center text-muted">No assigned patients.</td>
                    </tr>
                    }
                   
                </tbody>
            </table>
        </div>

           
        
    </div>


</div>
